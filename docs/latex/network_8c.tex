\hypertarget{network_8c}{}\doxysection{src/network/network.c File Reference}
\label{network_8c}\index{src/network/network.c@{src/network/network.c}}
{\ttfamily \#include $<$err.\+h$>$}\newline
{\ttfamily \#include $<$malloc.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include \char`\"{}network.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}function.\+h\char`\"{}}\newline
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{network_8c_a28a631a46550a13bbf48635953aafcbd}{CHK}}(ptr,  function,  message)
\begin{DoxyCompactList}\small\item\em checks if a pointer is null. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{network_8c_abd607f13447d238cfa36348ed8e5d383}{READ\+\_\+\+LENGTH}}~1024
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{structnetwork__results__t}{network\+\_\+results\+\_\+t}} $\ast$ \mbox{\hyperlink{network_8c_a2915eb69be1db6dd406f986f8cb5c8c8}{results\+\_\+create}} (size\+\_\+t layer\+\_\+count)
\begin{DoxyCompactList}\small\item\em Creates a network\+\_\+results struct. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{network_8c_a2512b64818030e2bafa25367611e3482}{results\+\_\+free}} (\mbox{\hyperlink{structnetwork__results__t}{network\+\_\+results\+\_\+t}} $\ast$results)
\begin{DoxyCompactList}\small\item\em Frees the network results struct. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{network_8c_abc9d9011dc3fcf9fb76fee11a2b4ff49}{compute\+\_\+layer}} (\mbox{\hyperlink{structnetwork__results__t}{network\+\_\+results\+\_\+t}} $\ast$results, size\+\_\+t layeri)
\item 
\mbox{\hyperlink{structmatrix__t}{matrix\+\_\+t}} $\ast$ \mbox{\hyperlink{network_8c_a0deec64877feb7870914ededb0a09746}{compute\+\_\+results}} (\mbox{\hyperlink{structmatrix__t}{matrix\+\_\+t}} $\ast$values, \mbox{\hyperlink{structnetwork__t}{network\+\_\+t}} $\ast$network)
\begin{DoxyCompactList}\small\item\em Computes the result of the input by the network. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{network_8c_a2d59c0e85a5fc82d69e0abe8a9efbf95}{compute\+\_\+results\+\_\+save}} (\mbox{\hyperlink{structnetwork__results__t}{network\+\_\+results\+\_\+t}} $\ast$results, \mbox{\hyperlink{structnetwork__t}{network\+\_\+t}} $\ast$network)
\begin{DoxyCompactList}\small\item\em Computes the result while saving the result of each layers. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structneuron__t}{neuron\+\_\+t}} $\ast$ \mbox{\hyperlink{network_8c_aa706a2634d39e1b59182ab9a9403931c}{neuron\+\_\+create}} (\mbox{\hyperlink{structmatrix__t}{matrix\+\_\+t}} $\ast$weights, double bias)
\begin{DoxyCompactList}\small\item\em Creates a neuron. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{network_8c_a634adde351458c2e8f8825c1816eeb43}{neuron\+\_\+free}} (\mbox{\hyperlink{structneuron__t}{neuron\+\_\+t}} $\ast$neuron)
\begin{DoxyCompactList}\small\item\em Frees the allocated neuron. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structlayer__t}{layer\+\_\+t}} $\ast$ \mbox{\hyperlink{network_8c_a634822d192cc56422779767bd219c3b8}{layer\+\_\+create\+\_\+from\+\_\+mat}} (\mbox{\hyperlink{structmatrix__t}{matrix\+\_\+t}} $\ast$$\ast$weights, double $\ast$biases, size\+\_\+t count, \mbox{\hyperlink{network_8h_a9fc74fc4febb993e1505653405d9c188}{activation\+\_\+t}} f, \mbox{\hyperlink{network_8h_a9fc74fc4febb993e1505653405d9c188}{activation\+\_\+t}} d)
\begin{DoxyCompactList}\small\item\em Creates filled layer from an array of weights, and an array of biases. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structlayer__t}{layer\+\_\+t}} $\ast$ \mbox{\hyperlink{network_8c_af0be2bf2d994ad2892ce3bbd1650bcce}{layer\+\_\+create}} (\mbox{\hyperlink{structneuron__t}{neuron\+\_\+t}} $\ast$$\ast$neurons, size\+\_\+t count, \mbox{\hyperlink{network_8h_a9fc74fc4febb993e1505653405d9c188}{activation\+\_\+t}} f, \mbox{\hyperlink{network_8h_a9fc74fc4febb993e1505653405d9c188}{activation\+\_\+t}} d)
\item 
void \mbox{\hyperlink{network_8c_ac0e36ece7ab68f5333223ea9167938d9}{layer\+\_\+free}} (\mbox{\hyperlink{structlayer__t}{layer\+\_\+t}} $\ast$layer)
\begin{DoxyCompactList}\small\item\em Frees an allocated layer. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structnetwork__t}{network\+\_\+t}} $\ast$ \mbox{\hyperlink{network_8c_ad7ec187320facb456542975fd39de56e}{network\+\_\+create}} (\mbox{\hyperlink{structlayer__t}{layer\+\_\+t}} $\ast$$\ast$layers, size\+\_\+t layer\+\_\+count, size\+\_\+t inputs)
\begin{DoxyCompactList}\small\item\em Creates a network from an array of layers. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{network_8c_ab7de60cd0ad5a69e135b63d264018d1a}{network\+\_\+free}} (\mbox{\hyperlink{structnetwork__t}{network\+\_\+t}} $\ast$net)
\begin{DoxyCompactList}\small\item\em Frees the allocated network. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structnetwork__t}{network\+\_\+t}} $\ast$ \mbox{\hyperlink{network_8c_a71f0aa4f7efea3ff158a49342228bb80}{network\+\_\+load}} (const char $\ast$path)
\begin{DoxyCompactList}\small\item\em Loads the network from a file. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{network_8c_aee995127aad46272ae3ddc5dfef07edc}{network\+\_\+save}} (const char $\ast$path, \mbox{\hyperlink{structnetwork__t}{network\+\_\+t}} $\ast$net)
\begin{DoxyCompactList}\small\item\em Saves a network to a file. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structnetwork__t}{network\+\_\+t}} $\ast$ \mbox{\hyperlink{network_8c_aba00189ea608835915fdd9f753c33fd4}{network\+\_\+generate}} (size\+\_\+t $\ast$neuron\+\_\+count, size\+\_\+t size)
\begin{DoxyCompactList}\small\item\em Generates a network based on given neuron count. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structnetwork__t}{network\+\_\+t}} $\ast$ \mbox{\hyperlink{network_8c_abef62369a77da828529fbf193f111ef7}{network\+\_\+copy}} (\mbox{\hyperlink{structnetwork__t}{network\+\_\+t}} $\ast$old)
\begin{DoxyCompactList}\small\item\em Create a deep copied network. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{network_8c_ac99789abdffa9915778914a50c1b4514}{network\+\_\+train}} (\mbox{\hyperlink{structnetwork__t}{network\+\_\+t}} $\ast$$\ast$pnet, \mbox{\hyperlink{structmatrix__t}{matrix\+\_\+t}} $\ast$inputs, \mbox{\hyperlink{structmatrix__t}{matrix\+\_\+t}} $\ast$target, double rate)
\item 
int \mbox{\hyperlink{network_8c_a338eaca7b062c45c2ddf651ec7bfb5ab}{network\+\_\+get\+\_\+output}} (\mbox{\hyperlink{structmatrix__t}{matrix\+\_\+t}} $\ast$outputs, double threshold)
\begin{DoxyCompactList}\small\item\em Return the calculated output. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{network_8c_a28a631a46550a13bbf48635953aafcbd}\label{network_8c_a28a631a46550a13bbf48635953aafcbd}} 
\index{network.c@{network.c}!CHK@{CHK}}
\index{CHK@{CHK}!network.c@{network.c}}
\doxysubsubsection{\texorpdfstring{CHK}{CHK}}
{\footnotesize\ttfamily \#define CHK(\begin{DoxyParamCaption}\item[{}]{ptr,  }\item[{}]{function,  }\item[{}]{message }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{    \{                                             \(\backslash\)}
\DoxyCodeLine{        if (ptr == NULL)                          \(\backslash\)}
\DoxyCodeLine{            errx(1, \textcolor{stringliteral}{"{}\%s: \%s"{}}, function, message); \(\backslash\)}
\DoxyCodeLine{    \}}

\end{DoxyCode}


checks if a pointer is null. 



Definition at line \mbox{\hyperlink{network_8c_source_l00008}{8}} of file \mbox{\hyperlink{network_8c_source}{network.\+c}}.

\mbox{\Hypertarget{network_8c_abd607f13447d238cfa36348ed8e5d383}\label{network_8c_abd607f13447d238cfa36348ed8e5d383}} 
\index{network.c@{network.c}!READ\_LENGTH@{READ\_LENGTH}}
\index{READ\_LENGTH@{READ\_LENGTH}!network.c@{network.c}}
\doxysubsubsection{\texorpdfstring{READ\_LENGTH}{READ\_LENGTH}}
{\footnotesize\ttfamily \#define READ\+\_\+\+LENGTH~1024}



Definition at line \mbox{\hyperlink{network_8c_source_l00188}{188}} of file \mbox{\hyperlink{network_8c_source}{network.\+c}}.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{network_8c_abc9d9011dc3fcf9fb76fee11a2b4ff49}\label{network_8c_abc9d9011dc3fcf9fb76fee11a2b4ff49}} 
\index{network.c@{network.c}!compute\_layer@{compute\_layer}}
\index{compute\_layer@{compute\_layer}!network.c@{network.c}}
\doxysubsubsection{\texorpdfstring{compute\_layer()}{compute\_layer()}}
{\footnotesize\ttfamily void compute\+\_\+layer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structnetwork__results__t}{network\+\_\+results\+\_\+t}} $\ast$}]{results,  }\item[{size\+\_\+t}]{layeri }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{network_8c_source_l00057}{57}} of file \mbox{\hyperlink{network_8c_source}{network.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00058 \{}
\DoxyCodeLine{00059     \mbox{\hyperlink{structlayer__t}{layer\_t}} *layer = results-\/>\mbox{\hyperlink{structnetwork__results__t_a81f6c9388535caf11d916c99da211ed6}{network}}-\/>\mbox{\hyperlink{structnetwork__t_abc9801a33bc441d67a87fac3b603ae87}{layers}}[layeri];}
\DoxyCodeLine{00060     \mbox{\hyperlink{structmatrix__t}{matrix\_t}} *values = results-\/>\mbox{\hyperlink{structnetwork__results__t_a5f69d90d162ba6b0796d55d4de7bc97d}{outputs}}[layeri];}
\DoxyCodeLine{00061     \mbox{\hyperlink{structmatrix__t}{matrix\_t}} *preactivation = \mbox{\hyperlink{matrix_8c_a1d9b061fc8856e727f014c3266b7431d}{matrix\_create}}(layer-\/>\mbox{\hyperlink{structlayer__t_a79cee7069a84d7440d56779ba2c073fb}{count}}, 1, 0);}
\DoxyCodeLine{00062     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < layer-\/>\mbox{\hyperlink{structlayer__t_a79cee7069a84d7440d56779ba2c073fb}{count}}; i++)}
\DoxyCodeLine{00063     \{}
\DoxyCodeLine{00064         \mbox{\hyperlink{structneuron__t}{neuron\_t}} *neuron = layer-\/>\mbox{\hyperlink{structlayer__t_a71e4f1a74c73f54b7ff2c40dc88c795e}{neurons}}[i];}
\DoxyCodeLine{00065         \mbox{\hyperlink{structmatrix__t}{matrix\_t}} *tmp = \mbox{\hyperlink{matrix_8c_aec843b4f924ae1c524b4f3e3dcc0ceda}{mat\_product}}(neuron-\/>\mbox{\hyperlink{structneuron__t_a6182effa3a478564d7dcd7f9d856c029}{weights}}, values);}
\DoxyCodeLine{00066         \textcolor{keywordtype}{double} res = \mbox{\hyperlink{matrix_8c_a631ff21351ba5ec31350fb5277605d3b}{mat\_el\_at}}(tmp, 0, 0) + neuron-\/>\mbox{\hyperlink{structneuron__t_ad82dab1b1a60940e62e80270ad99a522}{bias}};}
\DoxyCodeLine{00067         \mbox{\hyperlink{matrix_8c_aa20fd2a5c773eda620ce98e2f121b687}{matrix\_free}}(tmp);}
\DoxyCodeLine{00068         \mbox{\hyperlink{matrix_8c_a0e411263cdaaa67eae166d067996f5b6}{mat\_set\_el}}(preactivation, i, 0, res);}
\DoxyCodeLine{00069     \}}
\DoxyCodeLine{00070 }
\DoxyCodeLine{00071     results-\/>\mbox{\hyperlink{structnetwork__results__t_af7672c61fcb9cc66af09d166c98dfa0c}{preactivation}}[layeri] = preactivation;}
\DoxyCodeLine{00072     \mbox{\hyperlink{structmatrix__t}{matrix\_t}} *outputs = \mbox{\hyperlink{matrix_8c_a1d9b061fc8856e727f014c3266b7431d}{matrix\_create}}(layer-\/>\mbox{\hyperlink{structlayer__t_a79cee7069a84d7440d56779ba2c073fb}{count}}, 1, 0);}
\DoxyCodeLine{00073     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < layer-\/>\mbox{\hyperlink{structlayer__t_a79cee7069a84d7440d56779ba2c073fb}{count}}; i++)}
\DoxyCodeLine{00074     \{}
\DoxyCodeLine{00075         \textcolor{keywordtype}{double} res = layer-\/>\mbox{\hyperlink{structlayer__t_a986a66b0b385bcc14acea253eb4cddf4}{activation}}(}
\DoxyCodeLine{00076             layeri, i, \mbox{\hyperlink{matrix_8c_a631ff21351ba5ec31350fb5277605d3b}{mat\_el\_at}}(preactivation, i, 0), results);}
\DoxyCodeLine{00077         \mbox{\hyperlink{matrix_8c_a0e411263cdaaa67eae166d067996f5b6}{mat\_set\_el}}(outputs, i, 0, res);}
\DoxyCodeLine{00078     \}}
\DoxyCodeLine{00079 }
\DoxyCodeLine{00080     results-\/>\mbox{\hyperlink{structnetwork__results__t_a5f69d90d162ba6b0796d55d4de7bc97d}{outputs}}[layeri + 1] = outputs;}
\DoxyCodeLine{00081 \}}

\end{DoxyCode}
\mbox{\Hypertarget{network_8c_a0deec64877feb7870914ededb0a09746}\label{network_8c_a0deec64877feb7870914ededb0a09746}} 
\index{network.c@{network.c}!compute\_results@{compute\_results}}
\index{compute\_results@{compute\_results}!network.c@{network.c}}
\doxysubsubsection{\texorpdfstring{compute\_results()}{compute\_results()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structmatrix__t}{matrix\+\_\+t}} $\ast$ compute\+\_\+results (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structmatrix__t}{matrix\+\_\+t}} $\ast$}]{inputs,  }\item[{\mbox{\hyperlink{structnetwork__t}{network\+\_\+t}} $\ast$}]{network }\end{DoxyParamCaption})}



Computes the result of the input by the network. 


\begin{DoxyParams}{Parameters}
{\em inputs} & The column vector of the values. \\
\hline
{\em network} & The network to apply the values to. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The column vector of the computed results. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{network_8c_source_l00083}{83}} of file \mbox{\hyperlink{network_8c_source}{network.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00084 \{}
\DoxyCodeLine{00085     \mbox{\hyperlink{structmatrix__t}{matrix\_t}} *last\_results = \mbox{\hyperlink{matrix_8c_ad4970f9c83f185813ab569266c4fd0de}{mat\_copy}}(values);}
\DoxyCodeLine{00086     \mbox{\hyperlink{structnetwork__results__t}{network\_results\_t}} *results = \mbox{\hyperlink{network_8c_a2915eb69be1db6dd406f986f8cb5c8c8}{results\_create}}(network-\/>\mbox{\hyperlink{structnetwork__t_ad5fc71e5df50072d2c5a9ebfb28c7636}{layer\_count}});}
\DoxyCodeLine{00087     results-\/>\mbox{\hyperlink{structnetwork__results__t_a81f6c9388535caf11d916c99da211ed6}{network}} = network;}
\DoxyCodeLine{00088     results-\/>\mbox{\hyperlink{structnetwork__results__t_a5f69d90d162ba6b0796d55d4de7bc97d}{outputs}}[0] = last\_results;}
\DoxyCodeLine{00089     \mbox{\hyperlink{network_8c_a2d59c0e85a5fc82d69e0abe8a9efbf95}{compute\_results\_save}}(results, network);}
\DoxyCodeLine{00090     \mbox{\hyperlink{structmatrix__t}{matrix\_t}} *res = \mbox{\hyperlink{matrix_8c_ad4970f9c83f185813ab569266c4fd0de}{mat\_copy}}(results-\/>\mbox{\hyperlink{structnetwork__results__t_a5f69d90d162ba6b0796d55d4de7bc97d}{outputs}}[network-\/>\mbox{\hyperlink{structnetwork__t_ad5fc71e5df50072d2c5a9ebfb28c7636}{layer\_count}}]);}
\DoxyCodeLine{00091     \mbox{\hyperlink{network_8c_a2512b64818030e2bafa25367611e3482}{results\_free}}(results);}
\DoxyCodeLine{00092     \textcolor{keywordflow}{return} res;}
\DoxyCodeLine{00093 \}}

\end{DoxyCode}
\mbox{\Hypertarget{network_8c_a2d59c0e85a5fc82d69e0abe8a9efbf95}\label{network_8c_a2d59c0e85a5fc82d69e0abe8a9efbf95}} 
\index{network.c@{network.c}!compute\_results\_save@{compute\_results\_save}}
\index{compute\_results\_save@{compute\_results\_save}!network.c@{network.c}}
\doxysubsubsection{\texorpdfstring{compute\_results\_save()}{compute\_results\_save()}}
{\footnotesize\ttfamily void compute\+\_\+results\+\_\+save (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structnetwork__results__t}{network\+\_\+results\+\_\+t}} $\ast$}]{results,  }\item[{\mbox{\hyperlink{structnetwork__t}{network\+\_\+t}} $\ast$}]{network }\end{DoxyParamCaption})}



Computes the result while saving the result of each layers. 


\begin{DoxyParams}{Parameters}
{\em results} & The results struct. \\
\hline
{\em network} & The network to compute the results from. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{network_8c_source_l00095}{95}} of file \mbox{\hyperlink{network_8c_source}{network.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00096 \{}
\DoxyCodeLine{00097     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < network-\/>\mbox{\hyperlink{structnetwork__t_ad5fc71e5df50072d2c5a9ebfb28c7636}{layer\_count}}; i++)}
\DoxyCodeLine{00098     \{}
\DoxyCodeLine{00099         \mbox{\hyperlink{network_8c_abc9d9011dc3fcf9fb76fee11a2b4ff49}{compute\_layer}}(results, i);}
\DoxyCodeLine{00100     \}}
\DoxyCodeLine{00101 \}}

\end{DoxyCode}
\mbox{\Hypertarget{network_8c_af0be2bf2d994ad2892ce3bbd1650bcce}\label{network_8c_af0be2bf2d994ad2892ce3bbd1650bcce}} 
\index{network.c@{network.c}!layer\_create@{layer\_create}}
\index{layer\_create@{layer\_create}!network.c@{network.c}}
\doxysubsubsection{\texorpdfstring{layer\_create()}{layer\_create()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structlayer__t}{layer\+\_\+t}} $\ast$ layer\+\_\+create (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structneuron__t}{neuron\+\_\+t}} $\ast$$\ast$}]{neurons,  }\item[{size\+\_\+t}]{count,  }\item[{\mbox{\hyperlink{network_8h_a9fc74fc4febb993e1505653405d9c188}{activation\+\_\+t}}}]{f,  }\item[{\mbox{\hyperlink{network_8h_a9fc74fc4febb993e1505653405d9c188}{activation\+\_\+t}}}]{d }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{network_8c_source_l00141}{141}} of file \mbox{\hyperlink{network_8c_source}{network.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00143 \{}
\DoxyCodeLine{00144     \mbox{\hyperlink{structlayer__t}{layer\_t}} *layer = (\mbox{\hyperlink{structlayer__t}{layer\_t}} *)malloc(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{structlayer__t}{layer\_t}}));}
\DoxyCodeLine{00145     \textcolor{keywordflow}{if} (layer == NULL)}
\DoxyCodeLine{00146         \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{00147     layer-\/>\mbox{\hyperlink{structlayer__t_a71e4f1a74c73f54b7ff2c40dc88c795e}{neurons}} = neurons;}
\DoxyCodeLine{00148     layer-\/>\mbox{\hyperlink{structlayer__t_a79cee7069a84d7440d56779ba2c073fb}{count}} = count;}
\DoxyCodeLine{00149     layer-\/>\mbox{\hyperlink{structlayer__t_a986a66b0b385bcc14acea253eb4cddf4}{activation}} = f;}
\DoxyCodeLine{00150     layer-\/>\mbox{\hyperlink{structlayer__t_acacc7b95f0ad34a47555e40189aae7c0}{dactivation}} = d;}
\DoxyCodeLine{00151 }
\DoxyCodeLine{00152     \textcolor{keywordflow}{return} layer;}
\DoxyCodeLine{00153 \}}

\end{DoxyCode}
\mbox{\Hypertarget{network_8c_a634822d192cc56422779767bd219c3b8}\label{network_8c_a634822d192cc56422779767bd219c3b8}} 
\index{network.c@{network.c}!layer\_create\_from\_mat@{layer\_create\_from\_mat}}
\index{layer\_create\_from\_mat@{layer\_create\_from\_mat}!network.c@{network.c}}
\doxysubsubsection{\texorpdfstring{layer\_create\_from\_mat()}{layer\_create\_from\_mat()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structlayer__t}{layer\+\_\+t}} $\ast$ layer\+\_\+create\+\_\+from\+\_\+mat (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structmatrix__t}{matrix\+\_\+t}} $\ast$$\ast$}]{weights,  }\item[{double $\ast$}]{biases,  }\item[{size\+\_\+t}]{count,  }\item[{\mbox{\hyperlink{network_8h_a9fc74fc4febb993e1505653405d9c188}{activation\+\_\+t}}}]{f,  }\item[{\mbox{\hyperlink{network_8h_a9fc74fc4febb993e1505653405d9c188}{activation\+\_\+t}}}]{d }\end{DoxyParamCaption})}



Creates filled layer from an array of weights, and an array of biases. 


\begin{DoxyParams}{Parameters}
{\em weights} & The array of weights for each neuron in the layer. \\
\hline
{\em biases} & The array of biases for each neuron in the layer. \\
\hline
{\em count} & The number of elements to be created, hence the size of weights and biases. \\
\hline
{\em f} & The activation function. \\
\hline
{\em d} & The derivative of the activation function. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The created layer. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{network_8c_source_l00120}{120}} of file \mbox{\hyperlink{network_8c_source}{network.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00122 \{}
\DoxyCodeLine{00123     \mbox{\hyperlink{structlayer__t}{layer\_t}} *layer = (\mbox{\hyperlink{structlayer__t}{layer\_t}} *)malloc(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{structlayer__t}{layer\_t}}));}
\DoxyCodeLine{00124     \textcolor{keywordflow}{if} (layer == NULL)}
\DoxyCodeLine{00125         \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{00126     layer-\/>\mbox{\hyperlink{structlayer__t_a79cee7069a84d7440d56779ba2c073fb}{count}} = count;}
\DoxyCodeLine{00127     layer-\/>\mbox{\hyperlink{structlayer__t_a71e4f1a74c73f54b7ff2c40dc88c795e}{neurons}} = (\mbox{\hyperlink{structneuron__t}{neuron\_t}} **)malloc(count * \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structneuron__t}{neuron\_t}} *));}
\DoxyCodeLine{00128     \textcolor{keywordflow}{if} (layer-\/>\mbox{\hyperlink{structlayer__t_a71e4f1a74c73f54b7ff2c40dc88c795e}{neurons}} == NULL)}
\DoxyCodeLine{00129     \{}
\DoxyCodeLine{00130         free(layer);}
\DoxyCodeLine{00131         \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{00132     \}}
\DoxyCodeLine{00133     layer-\/>\mbox{\hyperlink{structlayer__t_a986a66b0b385bcc14acea253eb4cddf4}{activation}} = f;}
\DoxyCodeLine{00134     layer-\/>\mbox{\hyperlink{structlayer__t_acacc7b95f0ad34a47555e40189aae7c0}{dactivation}} = d;}
\DoxyCodeLine{00135     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < count; i++)}
\DoxyCodeLine{00136         layer-\/>\mbox{\hyperlink{structlayer__t_a71e4f1a74c73f54b7ff2c40dc88c795e}{neurons}}[i] = \mbox{\hyperlink{network_8c_aa706a2634d39e1b59182ab9a9403931c}{neuron\_create}}(weights[i], biases[i]);}
\DoxyCodeLine{00137 }
\DoxyCodeLine{00138     \textcolor{keywordflow}{return} layer;}
\DoxyCodeLine{00139 \}}

\end{DoxyCode}
\mbox{\Hypertarget{network_8c_ac0e36ece7ab68f5333223ea9167938d9}\label{network_8c_ac0e36ece7ab68f5333223ea9167938d9}} 
\index{network.c@{network.c}!layer\_free@{layer\_free}}
\index{layer\_free@{layer\_free}!network.c@{network.c}}
\doxysubsubsection{\texorpdfstring{layer\_free()}{layer\_free()}}
{\footnotesize\ttfamily void layer\+\_\+free (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structlayer__t}{layer\+\_\+t}} $\ast$}]{layer }\end{DoxyParamCaption})}



Frees an allocated layer. 


\begin{DoxyParams}{Parameters}
{\em layer} & The layer to be freed. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{network_8c_source_l00155}{155}} of file \mbox{\hyperlink{network_8c_source}{network.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00156 \{}
\DoxyCodeLine{00157     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < layer-\/>\mbox{\hyperlink{structlayer__t_a79cee7069a84d7440d56779ba2c073fb}{count}}; i++)}
\DoxyCodeLine{00158     \{}
\DoxyCodeLine{00159         \mbox{\hyperlink{network_8c_a634adde351458c2e8f8825c1816eeb43}{neuron\_free}}(layer-\/>\mbox{\hyperlink{structlayer__t_a71e4f1a74c73f54b7ff2c40dc88c795e}{neurons}}[i]);}
\DoxyCodeLine{00160     \}}
\DoxyCodeLine{00161 }
\DoxyCodeLine{00162     free(layer-\/>\mbox{\hyperlink{structlayer__t_a71e4f1a74c73f54b7ff2c40dc88c795e}{neurons}});}
\DoxyCodeLine{00163     free(layer);}
\DoxyCodeLine{00164 \}}

\end{DoxyCode}
\mbox{\Hypertarget{network_8c_abef62369a77da828529fbf193f111ef7}\label{network_8c_abef62369a77da828529fbf193f111ef7}} 
\index{network.c@{network.c}!network\_copy@{network\_copy}}
\index{network\_copy@{network\_copy}!network.c@{network.c}}
\doxysubsubsection{\texorpdfstring{network\_copy()}{network\_copy()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structnetwork__t}{network\+\_\+t}} $\ast$ network\+\_\+copy (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structnetwork__t}{network\+\_\+t}} $\ast$}]{old }\end{DoxyParamCaption})}



Create a deep copied network. 


\begin{DoxyParams}{Parameters}
{\em old} & The network to copy. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The copied network. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{network_8c_source_l00575}{575}} of file \mbox{\hyperlink{network_8c_source}{network.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00576 \{}
\DoxyCodeLine{00577     \mbox{\hyperlink{structlayer__t}{layer\_t}} **layers}
\DoxyCodeLine{00578         = (\mbox{\hyperlink{structlayer__t}{layer\_t}} **)malloc(old-\/>\mbox{\hyperlink{structnetwork__t_ad5fc71e5df50072d2c5a9ebfb28c7636}{layer\_count}} * \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structlayer__t}{layer\_t}} *));}
\DoxyCodeLine{00579     \mbox{\hyperlink{structnetwork__t}{network\_t}} *res = \mbox{\hyperlink{network_8c_ad7ec187320facb456542975fd39de56e}{network\_create}}(layers, old-\/>\mbox{\hyperlink{structnetwork__t_ad5fc71e5df50072d2c5a9ebfb28c7636}{layer\_count}}, old-\/>\mbox{\hyperlink{structnetwork__t_af7a2fbc049a0fd2d5ad14f218658ca83}{inputs}});}
\DoxyCodeLine{00580     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < old-\/>\mbox{\hyperlink{structnetwork__t_ad5fc71e5df50072d2c5a9ebfb28c7636}{layer\_count}}; i++)}
\DoxyCodeLine{00581     \{}
\DoxyCodeLine{00582         layers[i] = layer\_copy(old-\/>\mbox{\hyperlink{structnetwork__t_abc9801a33bc441d67a87fac3b603ae87}{layers}}[i]);}
\DoxyCodeLine{00583     \}}
\DoxyCodeLine{00584 }
\DoxyCodeLine{00585     \textcolor{keywordflow}{return} res;}
\DoxyCodeLine{00586 \}}

\end{DoxyCode}
\mbox{\Hypertarget{network_8c_ad7ec187320facb456542975fd39de56e}\label{network_8c_ad7ec187320facb456542975fd39de56e}} 
\index{network.c@{network.c}!network\_create@{network\_create}}
\index{network\_create@{network\_create}!network.c@{network.c}}
\doxysubsubsection{\texorpdfstring{network\_create()}{network\_create()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structnetwork__t}{network\+\_\+t}} $\ast$ network\+\_\+create (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structlayer__t}{layer\+\_\+t}} $\ast$$\ast$}]{layers,  }\item[{size\+\_\+t}]{size,  }\item[{size\+\_\+t}]{inputs }\end{DoxyParamCaption})}



Creates a network from an array of layers. 


\begin{DoxyParams}{Parameters}
{\em layers} & The array of layers in the network. \\
\hline
{\em size} & The number of layers in the array. \\
\hline
{\em inputs} & The number of neurons in the input layer. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The created network. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{network_8c_source_l00166}{166}} of file \mbox{\hyperlink{network_8c_source}{network.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00167 \{}
\DoxyCodeLine{00168     \mbox{\hyperlink{structnetwork__t}{network\_t}} *res = (\mbox{\hyperlink{structnetwork__t}{network\_t}} *)malloc(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{structnetwork__t}{network\_t}}));}
\DoxyCodeLine{00169     \textcolor{keywordflow}{if} (res == NULL)}
\DoxyCodeLine{00170         \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{00171     res-\/>\mbox{\hyperlink{structnetwork__t_abc9801a33bc441d67a87fac3b603ae87}{layers}} = layers;}
\DoxyCodeLine{00172     res-\/>\mbox{\hyperlink{structnetwork__t_af7a2fbc049a0fd2d5ad14f218658ca83}{inputs}} = inputs;}
\DoxyCodeLine{00173     res-\/>\mbox{\hyperlink{structnetwork__t_ad5fc71e5df50072d2c5a9ebfb28c7636}{layer\_count}} = layer\_count;}
\DoxyCodeLine{00174     \textcolor{keywordflow}{return} res;}
\DoxyCodeLine{00175 \}}

\end{DoxyCode}
\mbox{\Hypertarget{network_8c_ab7de60cd0ad5a69e135b63d264018d1a}\label{network_8c_ab7de60cd0ad5a69e135b63d264018d1a}} 
\index{network.c@{network.c}!network\_free@{network\_free}}
\index{network\_free@{network\_free}!network.c@{network.c}}
\doxysubsubsection{\texorpdfstring{network\_free()}{network\_free()}}
{\footnotesize\ttfamily void network\+\_\+free (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structnetwork__t}{network\+\_\+t}} $\ast$}]{network }\end{DoxyParamCaption})}



Frees the allocated network. 


\begin{DoxyParams}{Parameters}
{\em network} & The network to be freed. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{network_8c_source_l00177}{177}} of file \mbox{\hyperlink{network_8c_source}{network.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00178 \{}
\DoxyCodeLine{00179     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < net-\/>layer\_count; i++)}
\DoxyCodeLine{00180     \{}
\DoxyCodeLine{00181         \mbox{\hyperlink{network_8c_ac0e36ece7ab68f5333223ea9167938d9}{layer\_free}}(net-\/>layers[i]);}
\DoxyCodeLine{00182     \}}
\DoxyCodeLine{00183 }
\DoxyCodeLine{00184     free(net-\/>layers);}
\DoxyCodeLine{00185     free(net);}
\DoxyCodeLine{00186 \}}

\end{DoxyCode}
\mbox{\Hypertarget{network_8c_aba00189ea608835915fdd9f753c33fd4}\label{network_8c_aba00189ea608835915fdd9f753c33fd4}} 
\index{network.c@{network.c}!network\_generate@{network\_generate}}
\index{network\_generate@{network\_generate}!network.c@{network.c}}
\doxysubsubsection{\texorpdfstring{network\_generate()}{network\_generate()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structnetwork__t}{network\+\_\+t}} $\ast$ network\+\_\+generate (\begin{DoxyParamCaption}\item[{size\+\_\+t $\ast$}]{neurons,  }\item[{size\+\_\+t}]{size }\end{DoxyParamCaption})}



Generates a network based on given neuron count. 


\begin{DoxyParams}{Parameters}
{\em neurons} & An array containing the number of neurons at each layer including input layer.\\
\hline
{\em size} & The length of the array, hence the number of layers plus the input layer. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The generated network. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{network_8c_source_l00526}{526}} of file \mbox{\hyperlink{network_8c_source}{network.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00527 \{}
\DoxyCodeLine{00528     \textcolor{keywordflow}{if} (size < 2)}
\DoxyCodeLine{00529         \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{00530     \mbox{\hyperlink{structlayer__t}{layer\_t}} **layers = (\mbox{\hyperlink{structlayer__t}{layer\_t}} **)malloc((size -\/ 1) * \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structlayer__t}{layer\_t}} *));}
\DoxyCodeLine{00531     \textcolor{keywordtype}{size\_t} weights = neuron\_count[0];}
\DoxyCodeLine{00532     \mbox{\hyperlink{structnetwork__t}{network\_t}} *res = \mbox{\hyperlink{network_8c_ad7ec187320facb456542975fd39de56e}{network\_create}}(layers, size -\/ 1, weights);}
\DoxyCodeLine{00533 }
\DoxyCodeLine{00534     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 1; i < size; i++)}
\DoxyCodeLine{00535     \{}
\DoxyCodeLine{00536         \textcolor{keywordtype}{size\_t} n\_count = neuron\_count[i];}
\DoxyCodeLine{00537         \mbox{\hyperlink{structneuron__t}{neuron\_t}} **neurons = (\mbox{\hyperlink{structneuron__t}{neuron\_t}} **)malloc(n\_count * \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structneuron__t}{neuron\_t}} *));}
\DoxyCodeLine{00538         \mbox{\hyperlink{structlayer__t}{layer\_t}} *layer = \mbox{\hyperlink{network_8c_af0be2bf2d994ad2892ce3bbd1650bcce}{layer\_create}}(}
\DoxyCodeLine{00539             neurons, n\_count, \mbox{\hyperlink{function_8c_a3cfe80ea8f08d3cb79fac7898f2f732f}{activation}}, \mbox{\hyperlink{function_8c_aadf5a2658d407fe312e061e9f92e7aff}{activation\_derivative}});}
\DoxyCodeLine{00540         layers[i -\/ 1] = layer;}
\DoxyCodeLine{00541         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} ni = 0; ni < n\_count; ni++)}
\DoxyCodeLine{00542         \{}
\DoxyCodeLine{00543             \textcolor{keywordtype}{double} *values = \mbox{\hyperlink{function_8c_ae6d5ccd297429cb956c9a4deb3d5daa8}{generate\_weights}}(weights + 1);}
\DoxyCodeLine{00544             layers[i -\/ 1]-\/>\mbox{\hyperlink{structlayer__t_a71e4f1a74c73f54b7ff2c40dc88c795e}{neurons}}[ni] = parse\_results(values, weights);}
\DoxyCodeLine{00545             free(values);}
\DoxyCodeLine{00546         \}}
\DoxyCodeLine{00547         weights = n\_count;}
\DoxyCodeLine{00548     \}}
\DoxyCodeLine{00549 }
\DoxyCodeLine{00550     \mbox{\hyperlink{structlayer__t}{layer\_t}} *out = res-\/>\mbox{\hyperlink{structnetwork__t_abc9801a33bc441d67a87fac3b603ae87}{layers}}[res-\/>\mbox{\hyperlink{structnetwork__t_ad5fc71e5df50072d2c5a9ebfb28c7636}{layer\_count}} -\/ 1];}
\DoxyCodeLine{00551     out-\/>\mbox{\hyperlink{structlayer__t_a986a66b0b385bcc14acea253eb4cddf4}{activation}} = \mbox{\hyperlink{function_8c_aad9426959fd01ef08b2da99d846dce0e}{output\_activation}};}
\DoxyCodeLine{00552     out-\/>\mbox{\hyperlink{structlayer__t_acacc7b95f0ad34a47555e40189aae7c0}{dactivation}} = \mbox{\hyperlink{function_8c_acc76e8527c5c41125cffaee537a0068d}{output\_activation\_derivative}};}
\DoxyCodeLine{00553 }
\DoxyCodeLine{00554     \textcolor{keywordflow}{return} res;}
\DoxyCodeLine{00555 \}}

\end{DoxyCode}
\mbox{\Hypertarget{network_8c_a338eaca7b062c45c2ddf651ec7bfb5ab}\label{network_8c_a338eaca7b062c45c2ddf651ec7bfb5ab}} 
\index{network.c@{network.c}!network\_get\_output@{network\_get\_output}}
\index{network\_get\_output@{network\_get\_output}!network.c@{network.c}}
\doxysubsubsection{\texorpdfstring{network\_get\_output()}{network\_get\_output()}}
{\footnotesize\ttfamily int network\+\_\+get\+\_\+output (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structmatrix__t}{matrix\+\_\+t}} $\ast$}]{outputs,  }\item[{double}]{threshold }\end{DoxyParamCaption})}



Return the calculated output. 


\begin{DoxyParams}{Parameters}
{\em outputs} & The matrix of outputs given by the network. \\
\hline
{\em threshold} & The threshold starting from which the result will be considered as valid. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The calculated output or -\/1 if none above the threshold. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{network_8c_source_l00702}{702}} of file \mbox{\hyperlink{network_8c_source}{network.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00703 \{}
\DoxyCodeLine{00704     \textcolor{keywordtype}{int} result = -\/1;}
\DoxyCodeLine{00705     \textcolor{keywordtype}{double} old\_value = 0;}
\DoxyCodeLine{00706     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < outputs-\/>\mbox{\hyperlink{structmatrix__t_a9620f15b4416ec1830196db9ec904fc5}{rows}}; i++)}
\DoxyCodeLine{00707     \{}
\DoxyCodeLine{00708         \textcolor{keywordtype}{double} val = \mbox{\hyperlink{matrix_8c_a631ff21351ba5ec31350fb5277605d3b}{mat\_el\_at}}(outputs, i, 0);}
\DoxyCodeLine{00709         \textcolor{keywordflow}{if} (val < threshold)}
\DoxyCodeLine{00710             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00711         \textcolor{keywordflow}{if} (val > old\_value)}
\DoxyCodeLine{00712         \{}
\DoxyCodeLine{00713             result = i;}
\DoxyCodeLine{00714             old\_value = val;}
\DoxyCodeLine{00715         \}}
\DoxyCodeLine{00716     \}}
\DoxyCodeLine{00717 }
\DoxyCodeLine{00718     \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{00719 \}}

\end{DoxyCode}
\mbox{\Hypertarget{network_8c_a71f0aa4f7efea3ff158a49342228bb80}\label{network_8c_a71f0aa4f7efea3ff158a49342228bb80}} 
\index{network.c@{network.c}!network\_load@{network\_load}}
\index{network\_load@{network\_load}!network.c@{network.c}}
\doxysubsubsection{\texorpdfstring{network\_load()}{network\_load()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structnetwork__t}{network\+\_\+t}} $\ast$ network\+\_\+load (\begin{DoxyParamCaption}\item[{const char $\ast$}]{file }\end{DoxyParamCaption})}



Loads the network from a file. 


\begin{DoxyParams}{Parameters}
{\em file} & The path of the file to load. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The loaded network. The file format\+: The file will start with two comma-\/separated integer indicating the number of layers and the number of input neurons. Each layer will start by the number of neurons in the layer. Then each neuron information will be seperated by a newline char. Neuron format\+: $<$weight1$>$, ... , $<$weightn$>$, $<$bias$>$ Example for xor network with random biases and weights\+: 2,2 \# The number of layers and the number of input neurons. 2 \# The number of neurons in layer 1 1,1,-\/0.\+5 \# neuron 1,1 weights are \mbox{[}1, 1\mbox{]} and the bias is -\/0.\+5 -\/1,-\/1,1.\+5 1 \# The number of neurons in layer 2 1, 1, 0.\+5 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{network_8c_source_l00432}{432}} of file \mbox{\hyperlink{network_8c_source}{network.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00433 \{}
\DoxyCodeLine{00434     \textcolor{comment}{// open the file}}
\DoxyCodeLine{00435     FILE *file = fopen(path, \textcolor{stringliteral}{"{}r"{}});}
\DoxyCodeLine{00436     \mbox{\hyperlink{network_8c_a28a631a46550a13bbf48635953aafcbd}{CHK}}(file, \textcolor{stringliteral}{"{}network\_load"{}}, \textcolor{stringliteral}{"{}could not open file"{}});}
\DoxyCodeLine{00437 }
\DoxyCodeLine{00438     \textcolor{keywordtype}{size\_t} layer\_count, weight\_count, neuron\_count = 0;}
\DoxyCodeLine{00439     \textcolor{keywordtype}{size\_t} neuron\_index = 0, layer\_index = 0;}
\DoxyCodeLine{00440     \textcolor{keywordtype}{int} in\_layer = 0;}
\DoxyCodeLine{00441     \textcolor{keywordtype}{size\_t} line = 0;}
\DoxyCodeLine{00442     \textcolor{keywordtype}{int} alive = parse\_header(file, \&layer\_count, \&neuron\_count, \&line);}
\DoxyCodeLine{00443     line++;}
\DoxyCodeLine{00444     \textcolor{keywordflow}{if} (!alive)}
\DoxyCodeLine{00445         \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{00446 }
\DoxyCodeLine{00447     \mbox{\hyperlink{structlayer__t}{layer\_t}} **layers = (\mbox{\hyperlink{structlayer__t}{layer\_t}} **)malloc(layer\_count * \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structlayer__t}{layer\_t}} *));}
\DoxyCodeLine{00448     \mbox{\hyperlink{structnetwork__t}{network\_t}} *res = \mbox{\hyperlink{network_8c_ad7ec187320facb456542975fd39de56e}{network\_create}}(layers, layer\_count, neuron\_count);}
\DoxyCodeLine{00449     \textcolor{keywordtype}{double} *values;}
\DoxyCodeLine{00450     \textcolor{keywordflow}{while} (layer\_index < layer\_count)}
\DoxyCodeLine{00451     \{}
\DoxyCodeLine{00452         \textcolor{keywordflow}{if} (!in\_layer)}
\DoxyCodeLine{00453         \{}
\DoxyCodeLine{00454             weight\_count = neuron\_count;}
\DoxyCodeLine{00455             alive = parse\_layer\_header(file, \&neuron\_count, \&line);}
\DoxyCodeLine{00456             line++;}
\DoxyCodeLine{00457             neuron\_index = 0;}
\DoxyCodeLine{00458             in\_layer = 1;}
\DoxyCodeLine{00459             layers[layer\_index] = \mbox{\hyperlink{network_8c_af0be2bf2d994ad2892ce3bbd1650bcce}{layer\_create}}(}
\DoxyCodeLine{00460                 (\mbox{\hyperlink{structneuron__t}{neuron\_t}} **)malloc(neuron\_count * \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structneuron__t}{neuron\_t}} *)),}
\DoxyCodeLine{00461                 neuron\_count, \mbox{\hyperlink{function_8c_a3cfe80ea8f08d3cb79fac7898f2f732f}{activation}}, \mbox{\hyperlink{function_8c_aadf5a2658d407fe312e061e9f92e7aff}{activation\_derivative}});}
\DoxyCodeLine{00462         \}}
\DoxyCodeLine{00463         \textcolor{keywordflow}{else}}
\DoxyCodeLine{00464         \{}
\DoxyCodeLine{00465             \textcolor{keywordflow}{if} (neuron\_count == neuron\_index)}
\DoxyCodeLine{00466             \{}
\DoxyCodeLine{00467                 in\_layer = 0;}
\DoxyCodeLine{00468                 layer\_index++;}
\DoxyCodeLine{00469             \}}
\DoxyCodeLine{00470             \textcolor{keywordflow}{else}}
\DoxyCodeLine{00471             \{}
\DoxyCodeLine{00472                 values = (\textcolor{keywordtype}{double} *)malloc((weight\_count + 1) * \textcolor{keyword}{sizeof}(double));}
\DoxyCodeLine{00473                 alive}
\DoxyCodeLine{00474                     = parse\_neuron\_line(file, values, weight\_count + 1, \&line);}
\DoxyCodeLine{00475                 line++;}
\DoxyCodeLine{00476                 layers[layer\_index]-\/>\mbox{\hyperlink{structlayer__t_a71e4f1a74c73f54b7ff2c40dc88c795e}{neurons}}[neuron\_index]}
\DoxyCodeLine{00477                     = parse\_results(values, weight\_count);}
\DoxyCodeLine{00478                 free(values);}
\DoxyCodeLine{00479                 neuron\_index++;}
\DoxyCodeLine{00480             \}}
\DoxyCodeLine{00481         \}}
\DoxyCodeLine{00482     \}}
\DoxyCodeLine{00483     \textcolor{comment}{// close the file}}
\DoxyCodeLine{00484     fclose(file);}
\DoxyCodeLine{00485     \mbox{\hyperlink{structlayer__t}{layer\_t}} *output\_layer = res-\/>\mbox{\hyperlink{structnetwork__t_abc9801a33bc441d67a87fac3b603ae87}{layers}}[res-\/>\mbox{\hyperlink{structnetwork__t_ad5fc71e5df50072d2c5a9ebfb28c7636}{layer\_count}} -\/ 1];}
\DoxyCodeLine{00486     output\_layer-\/>\mbox{\hyperlink{structlayer__t_a986a66b0b385bcc14acea253eb4cddf4}{activation}} = \mbox{\hyperlink{function_8c_aad9426959fd01ef08b2da99d846dce0e}{output\_activation}};}
\DoxyCodeLine{00487     output\_layer-\/>\mbox{\hyperlink{structlayer__t_acacc7b95f0ad34a47555e40189aae7c0}{dactivation}} = \mbox{\hyperlink{function_8c_acc76e8527c5c41125cffaee537a0068d}{output\_activation\_derivative}};}
\DoxyCodeLine{00488     \textcolor{keywordflow}{return} res;}
\DoxyCodeLine{00489 \}}

\end{DoxyCode}
\mbox{\Hypertarget{network_8c_aee995127aad46272ae3ddc5dfef07edc}\label{network_8c_aee995127aad46272ae3ddc5dfef07edc}} 
\index{network.c@{network.c}!network\_save@{network\_save}}
\index{network\_save@{network\_save}!network.c@{network.c}}
\doxysubsubsection{\texorpdfstring{network\_save()}{network\_save()}}
{\footnotesize\ttfamily void network\+\_\+save (\begin{DoxyParamCaption}\item[{const char $\ast$}]{file,  }\item[{\mbox{\hyperlink{structnetwork__t}{network\+\_\+t}} $\ast$}]{network }\end{DoxyParamCaption})}



Saves a network to a file. 


\begin{DoxyParams}{Parameters}
{\em file} & The file to save the network to. \\
\hline
{\em network} & The network to be saved. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{network_8c_source_l00511}{511}} of file \mbox{\hyperlink{network_8c_source}{network.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00512 \{}
\DoxyCodeLine{00513     FILE *file = fopen(path, \textcolor{stringliteral}{"{}w"{}});}
\DoxyCodeLine{00514     \mbox{\hyperlink{network_8c_a28a631a46550a13bbf48635953aafcbd}{CHK}}(file, \textcolor{stringliteral}{"{}network\_save"{}}, \textcolor{stringliteral}{"{}could not open file"{}});}
\DoxyCodeLine{00515     fprintf(file, \textcolor{stringliteral}{"{}\%zu, \%zu\(\backslash\)n"{}}, net-\/>layer\_count, net-\/>inputs);}
\DoxyCodeLine{00516     \textcolor{keywordtype}{size\_t} weight\_count = net-\/>inputs;}
\DoxyCodeLine{00517     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < net-\/>layer\_count; i++)}
\DoxyCodeLine{00518     \{}
\DoxyCodeLine{00519         fprintf(file, \textcolor{stringliteral}{"{}\(\backslash\)n"{}});}
\DoxyCodeLine{00520         layer\_save(file, net-\/>layers[i], weight\_count);}
\DoxyCodeLine{00521         weight\_count = net-\/>layers[i]-\/>count;}
\DoxyCodeLine{00522     \}}
\DoxyCodeLine{00523     fclose(file);}
\DoxyCodeLine{00524 \}}

\end{DoxyCode}
\mbox{\Hypertarget{network_8c_ac99789abdffa9915778914a50c1b4514}\label{network_8c_ac99789abdffa9915778914a50c1b4514}} 
\index{network.c@{network.c}!network\_train@{network\_train}}
\index{network\_train@{network\_train}!network.c@{network.c}}
\doxysubsubsection{\texorpdfstring{network\_train()}{network\_train()}}
{\footnotesize\ttfamily void network\+\_\+train (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structnetwork__t}{network\+\_\+t}} $\ast$$\ast$}]{pnet,  }\item[{\mbox{\hyperlink{structmatrix__t}{matrix\+\_\+t}} $\ast$}]{inputs,  }\item[{\mbox{\hyperlink{structmatrix__t}{matrix\+\_\+t}} $\ast$}]{target,  }\item[{double}]{rate }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{network_8c_source_l00659}{659}} of file \mbox{\hyperlink{network_8c_source}{network.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00661 \{}
\DoxyCodeLine{00662     \mbox{\hyperlink{structnetwork__t}{network\_t}} *trained = \mbox{\hyperlink{network_8c_abef62369a77da828529fbf193f111ef7}{network\_copy}}(*pnet);}
\DoxyCodeLine{00663 }
\DoxyCodeLine{00664     \mbox{\hyperlink{structnetwork__results__t}{network\_results\_t}} *results = \mbox{\hyperlink{network_8c_a2915eb69be1db6dd406f986f8cb5c8c8}{results\_create}}((*pnet)-\/>layer\_count);}
\DoxyCodeLine{00665     results-\/>\mbox{\hyperlink{structnetwork__results__t_a81f6c9388535caf11d916c99da211ed6}{network}} = *pnet;}
\DoxyCodeLine{00666 }
\DoxyCodeLine{00667     \mbox{\hyperlink{structmatrix__t}{matrix\_t}} **outputs = results-\/>\mbox{\hyperlink{structnetwork__results__t_a5f69d90d162ba6b0796d55d4de7bc97d}{outputs}};}
\DoxyCodeLine{00668     outputs[0] = \mbox{\hyperlink{matrix_8c_ad4970f9c83f185813ab569266c4fd0de}{mat\_copy}}(inputs);}
\DoxyCodeLine{00669 }
\DoxyCodeLine{00670     \mbox{\hyperlink{structmatrix__t}{matrix\_t}} **deltas}
\DoxyCodeLine{00671         = (\mbox{\hyperlink{structmatrix__t}{matrix\_t}} **)malloc((*pnet)-\/>layer\_count * \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structmatrix__t}{matrix\_t}} *));}
\DoxyCodeLine{00672 }
\DoxyCodeLine{00673     \mbox{\hyperlink{network_8c_a2d59c0e85a5fc82d69e0abe8a9efbf95}{compute\_results\_save}}(results, *pnet);}
\DoxyCodeLine{00674 }
\DoxyCodeLine{00675     \textcolor{keywordtype}{size\_t} layer\_i = trained-\/>\mbox{\hyperlink{structnetwork__t_ad5fc71e5df50072d2c5a9ebfb28c7636}{layer\_count}} -\/ 1;}
\DoxyCodeLine{00676     \mbox{\hyperlink{structlayer__t}{layer\_t}} *trained\_layer = trained-\/>\mbox{\hyperlink{structnetwork__t_abc9801a33bc441d67a87fac3b603ae87}{layers}}[layer\_i];}
\DoxyCodeLine{00677     \mbox{\hyperlink{structlayer__t}{layer\_t}} *old\_layer = (*pnet)-\/>layers[layer\_i];}
\DoxyCodeLine{00678     deltas[layer\_i] = \mbox{\hyperlink{matrix_8c_a1d9b061fc8856e727f014c3266b7431d}{matrix\_create}}(trained\_layer-\/>\mbox{\hyperlink{structlayer__t_a79cee7069a84d7440d56779ba2c073fb}{count}}, 1, 0);}
\DoxyCodeLine{00679     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} ni = 0; ni < trained\_layer-\/>\mbox{\hyperlink{structlayer__t_a79cee7069a84d7440d56779ba2c073fb}{count}}; ni++)}
\DoxyCodeLine{00680     \{}
\DoxyCodeLine{00681         \textcolor{keywordtype}{double} delta = output\_neuron\_train(trained\_layer-\/>\mbox{\hyperlink{structlayer__t_a71e4f1a74c73f54b7ff2c40dc88c795e}{neurons}}[ni],}
\DoxyCodeLine{00682             old\_layer-\/>\mbox{\hyperlink{structlayer__t_a71e4f1a74c73f54b7ff2c40dc88c795e}{neurons}}[ni], rate, \mbox{\hyperlink{matrix_8c_a631ff21351ba5ec31350fb5277605d3b}{mat\_el\_at}}(target, ni, 0),}
\DoxyCodeLine{00683             \mbox{\hyperlink{matrix_8c_a631ff21351ba5ec31350fb5277605d3b}{mat\_el\_at}}(outputs[layer\_i + 1], ni, 0), results, layer\_i, ni,}
\DoxyCodeLine{00684             old\_layer-\/>\mbox{\hyperlink{structlayer__t_acacc7b95f0ad34a47555e40189aae7c0}{dactivation}});}
\DoxyCodeLine{00685         \mbox{\hyperlink{matrix_8c_a0e411263cdaaa67eae166d067996f5b6}{mat\_set\_el}}(deltas[layer\_i], ni, 0, delta);}
\DoxyCodeLine{00686     \}}
\DoxyCodeLine{00687 }
\DoxyCodeLine{00688     compute\_deltas(results, *pnet, deltas);}
\DoxyCodeLine{00689     hidden\_layer\_train(results, trained, deltas, rate);}
\DoxyCodeLine{00690 }
\DoxyCodeLine{00691     \mbox{\hyperlink{network_8c_a2512b64818030e2bafa25367611e3482}{results\_free}}(results);}
\DoxyCodeLine{00692 }
\DoxyCodeLine{00693     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 1; i <= trained-\/>\mbox{\hyperlink{structnetwork__t_ad5fc71e5df50072d2c5a9ebfb28c7636}{layer\_count}}; i++)}
\DoxyCodeLine{00694     \{}
\DoxyCodeLine{00695         \mbox{\hyperlink{matrix_8c_aa20fd2a5c773eda620ce98e2f121b687}{matrix\_free}}(deltas[i -\/ 1]);}
\DoxyCodeLine{00696     \}}
\DoxyCodeLine{00697     free(deltas);}
\DoxyCodeLine{00698     \mbox{\hyperlink{network_8c_ab7de60cd0ad5a69e135b63d264018d1a}{network\_free}}(*pnet);}
\DoxyCodeLine{00699     *pnet = trained;}
\DoxyCodeLine{00700 \}}

\end{DoxyCode}
\mbox{\Hypertarget{network_8c_aa706a2634d39e1b59182ab9a9403931c}\label{network_8c_aa706a2634d39e1b59182ab9a9403931c}} 
\index{network.c@{network.c}!neuron\_create@{neuron\_create}}
\index{neuron\_create@{neuron\_create}!network.c@{network.c}}
\doxysubsubsection{\texorpdfstring{neuron\_create()}{neuron\_create()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structneuron__t}{neuron\+\_\+t}} $\ast$ neuron\+\_\+create (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structmatrix__t}{matrix\+\_\+t}} $\ast$}]{weights,  }\item[{double}]{bias }\end{DoxyParamCaption})}



Creates a neuron. 


\begin{DoxyParams}{Parameters}
{\em weights} & The weights of the neuron. \\
\hline
{\em bias} & The bias of the neuron. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The instantiated neuron. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{network_8c_source_l00103}{103}} of file \mbox{\hyperlink{network_8c_source}{network.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00104 \{}
\DoxyCodeLine{00105     \mbox{\hyperlink{structneuron__t}{neuron\_t}} *neuron = (\mbox{\hyperlink{structneuron__t}{neuron\_t}} *)malloc(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{structneuron__t}{neuron\_t}}));}
\DoxyCodeLine{00106     \textcolor{keywordflow}{if} (neuron == NULL)}
\DoxyCodeLine{00107         \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{00108     neuron-\/>\mbox{\hyperlink{structneuron__t_a6182effa3a478564d7dcd7f9d856c029}{weights}} = weights;}
\DoxyCodeLine{00109     neuron-\/>\mbox{\hyperlink{structneuron__t_ad82dab1b1a60940e62e80270ad99a522}{bias}} = bias;}
\DoxyCodeLine{00110 }
\DoxyCodeLine{00111     \textcolor{keywordflow}{return} neuron;}
\DoxyCodeLine{00112 \}}

\end{DoxyCode}
\mbox{\Hypertarget{network_8c_a634adde351458c2e8f8825c1816eeb43}\label{network_8c_a634adde351458c2e8f8825c1816eeb43}} 
\index{network.c@{network.c}!neuron\_free@{neuron\_free}}
\index{neuron\_free@{neuron\_free}!network.c@{network.c}}
\doxysubsubsection{\texorpdfstring{neuron\_free()}{neuron\_free()}}
{\footnotesize\ttfamily void neuron\+\_\+free (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structneuron__t}{neuron\+\_\+t}} $\ast$}]{neuron }\end{DoxyParamCaption})}



Frees the allocated neuron. 


\begin{DoxyParams}{Parameters}
{\em neuron} & The neuron to free. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{network_8c_source_l00114}{114}} of file \mbox{\hyperlink{network_8c_source}{network.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00115 \{}
\DoxyCodeLine{00116     \mbox{\hyperlink{matrix_8c_aa20fd2a5c773eda620ce98e2f121b687}{matrix\_free}}(neuron-\/>\mbox{\hyperlink{structneuron__t_a6182effa3a478564d7dcd7f9d856c029}{weights}});}
\DoxyCodeLine{00117     free(neuron);}
\DoxyCodeLine{00118 \}}

\end{DoxyCode}
\mbox{\Hypertarget{network_8c_a2915eb69be1db6dd406f986f8cb5c8c8}\label{network_8c_a2915eb69be1db6dd406f986f8cb5c8c8}} 
\index{network.c@{network.c}!results\_create@{results\_create}}
\index{results\_create@{results\_create}!network.c@{network.c}}
\doxysubsubsection{\texorpdfstring{results\_create()}{results\_create()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structnetwork__results__t}{network\+\_\+results\+\_\+t}} $\ast$ results\+\_\+create (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{layer\+\_\+count }\end{DoxyParamCaption})}



Creates a network\+\_\+results struct. 


\begin{DoxyParams}{Parameters}
{\em layer\+\_\+count} & The number of layers in the network. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The created structure. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{network_8c_source_l00014}{14}} of file \mbox{\hyperlink{network_8c_source}{network.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00015 \{}
\DoxyCodeLine{00016     \mbox{\hyperlink{structnetwork__results__t}{network\_results\_t}} *results}
\DoxyCodeLine{00017         = (\mbox{\hyperlink{structnetwork__results__t}{network\_results\_t}} *)malloc(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{structnetwork__results__t}{network\_results\_t}}));}
\DoxyCodeLine{00018     \textcolor{keywordflow}{if} (results == NULL)}
\DoxyCodeLine{00019         \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{00020     results-\/>\mbox{\hyperlink{structnetwork__results__t_af7672c61fcb9cc66af09d166c98dfa0c}{preactivation}}}
\DoxyCodeLine{00021         = (\mbox{\hyperlink{structmatrix__t}{matrix\_t}} **)calloc(layer\_count, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structmatrix__t}{matrix\_t}} *));}
\DoxyCodeLine{00022     \textcolor{keywordflow}{if} (results-\/>\mbox{\hyperlink{structnetwork__results__t_af7672c61fcb9cc66af09d166c98dfa0c}{preactivation}} == NULL)}
\DoxyCodeLine{00023     \{}
\DoxyCodeLine{00024         free(results);}
\DoxyCodeLine{00025         \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{00026     \}}
\DoxyCodeLine{00027     results-\/>\mbox{\hyperlink{structnetwork__results__t_a5f69d90d162ba6b0796d55d4de7bc97d}{outputs}}}
\DoxyCodeLine{00028         = (\mbox{\hyperlink{structmatrix__t}{matrix\_t}} **)calloc(layer\_count + 1, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structmatrix__t}{matrix\_t}} *));}
\DoxyCodeLine{00029     \textcolor{keywordflow}{if} (results-\/>\mbox{\hyperlink{structnetwork__results__t_a5f69d90d162ba6b0796d55d4de7bc97d}{outputs}} == NULL)}
\DoxyCodeLine{00030     \{}
\DoxyCodeLine{00031         free(results-\/>\mbox{\hyperlink{structnetwork__results__t_af7672c61fcb9cc66af09d166c98dfa0c}{preactivation}});}
\DoxyCodeLine{00032         free(results);}
\DoxyCodeLine{00033         \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{00034     \}}
\DoxyCodeLine{00035 }
\DoxyCodeLine{00036     \textcolor{keywordflow}{return} results;}
\DoxyCodeLine{00037 \}}

\end{DoxyCode}
\mbox{\Hypertarget{network_8c_a2512b64818030e2bafa25367611e3482}\label{network_8c_a2512b64818030e2bafa25367611e3482}} 
\index{network.c@{network.c}!results\_free@{results\_free}}
\index{results\_free@{results\_free}!network.c@{network.c}}
\doxysubsubsection{\texorpdfstring{results\_free()}{results\_free()}}
{\footnotesize\ttfamily void results\+\_\+free (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structnetwork__results__t}{network\+\_\+results\+\_\+t}} $\ast$}]{results }\end{DoxyParamCaption})}



Frees the network results struct. 


\begin{DoxyParams}{Parameters}
{\em results} & The results struct to free. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{network_8c_source_l00039}{39}} of file \mbox{\hyperlink{network_8c_source}{network.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00040 \{}
\DoxyCodeLine{00041     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < results-\/>\mbox{\hyperlink{structnetwork__results__t_a81f6c9388535caf11d916c99da211ed6}{network}}-\/>\mbox{\hyperlink{structnetwork__t_ad5fc71e5df50072d2c5a9ebfb28c7636}{layer\_count}}; i++)}
\DoxyCodeLine{00042     \{}
\DoxyCodeLine{00043         \textcolor{keywordflow}{if} (results-\/>\mbox{\hyperlink{structnetwork__results__t_af7672c61fcb9cc66af09d166c98dfa0c}{preactivation}}[i] != NULL)}
\DoxyCodeLine{00044             \mbox{\hyperlink{matrix_8c_aa20fd2a5c773eda620ce98e2f121b687}{matrix\_free}}(results-\/>\mbox{\hyperlink{structnetwork__results__t_af7672c61fcb9cc66af09d166c98dfa0c}{preactivation}}[i]);}
\DoxyCodeLine{00045     \}}
\DoxyCodeLine{00046     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i <= results-\/>\mbox{\hyperlink{structnetwork__results__t_a81f6c9388535caf11d916c99da211ed6}{network}}-\/>\mbox{\hyperlink{structnetwork__t_ad5fc71e5df50072d2c5a9ebfb28c7636}{layer\_count}}; i++)}
\DoxyCodeLine{00047     \{}
\DoxyCodeLine{00048         \textcolor{keywordflow}{if} (results-\/>\mbox{\hyperlink{structnetwork__results__t_a5f69d90d162ba6b0796d55d4de7bc97d}{outputs}}[i] != NULL)}
\DoxyCodeLine{00049             \mbox{\hyperlink{matrix_8c_aa20fd2a5c773eda620ce98e2f121b687}{matrix\_free}}(results-\/>\mbox{\hyperlink{structnetwork__results__t_a5f69d90d162ba6b0796d55d4de7bc97d}{outputs}}[i]);}
\DoxyCodeLine{00050     \}}
\DoxyCodeLine{00051 }
\DoxyCodeLine{00052     free(results-\/>\mbox{\hyperlink{structnetwork__results__t_af7672c61fcb9cc66af09d166c98dfa0c}{preactivation}});}
\DoxyCodeLine{00053     free(results-\/>\mbox{\hyperlink{structnetwork__results__t_a5f69d90d162ba6b0796d55d4de7bc97d}{outputs}});}
\DoxyCodeLine{00054     free(results);}
\DoxyCodeLine{00055 \}}

\end{DoxyCode}
